<!-- HTML document declaration -->
<!DOCTYPE html>
<html>

<head>
    <!-- Character set and viewport configuration -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- External stylesheets for font awesome and custom styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="style/style.css">
</head>

<body>
    <!-- Container for displaying numquestions -->
    <div id="questioncontainer">
        <!-- Heading for the form -->
        <h3 id="titleparamsq">{{titleformparams}}</h3>
        <!-- Loop through numquestions -->
        {{#numquestions}}
            <!-- Check if the question is numeric -->
            {{#isnumeric}}
                <!-- Checkbox for numeric numquestions -->
                <label class="custom-checkbox">
                    <!-- Exclamation circle icon for errors (initially hidden) -->
                    <i class="fa fa-exclamation-circle" style="font-size:20px;color:red;margin-right:5px; display:none"></i>
                    <!-- Checkbox input -->
                    <input type="checkbox" name="question_ids[]" value="{{id}}">
                    <!-- Question content -->
                    <span style="font-weight: bold;">{{{questioncontent}}}</span>
                    <!-- Checkmark for checkbox -->
                    <span class="checkmark"></span>
                </label><br>
            {{/isnumeric}}
        {{/numquestions}}
    <a href="#" id="continueButton" class="continue-link" onclick="validatequestions(event)">
      {{buttoncontinue}}  <i class="fas fa-chevron-right"></i> 
    </a>
            <!-- Hidden input for course ID -->
            <input type="hidden" name="courseid" id="courseid" value="{{courseid}}">
            <!-- Hidden input for survey ID -->
            <input type="hidden" name="sproid" id="sproid" value="{{sproid}}">
            <!-- Hidden input for selected fields -->
<!-- Hidden input for selected fields in the data container -->
<input type="hidden" name="selectedfield" id="selectedfieldsinput" value="">
            <!-- Hidden input for selected data -->
            <input type="hidden" name="selecteddata" id="selecteddatainput" value="">
            <input type="hidden" name="createrow" id="createrow" value="{{createrow}}">
            <input type="hidden" name="updaterow" id="updaterow" value="{{updaterow}}">

    </div>


    <div id="datecontainer">
        <!-- Heading for the form -->
        <h3 id="titleparamsd">{{titleformdates}}</h3>
        <!-- Loop through datequestions -->
        {{#datequestions}}
            <!-- Check if the question is numeric -->
            {{#isdate}}
                <!-- Checkbox for numeric datequestions -->
                <label class="custom-checkbox">
                    <!-- Exclamation circle icon for errors (initially hidden) -->
                    <i class="fa fa-exclamation-circle" style="font-size:20px;color:red;margin-right:5px; display:none"></i>
                    <!-- Checkbox input -->
                    <input type="checkbox" name="date_ids[]" value="{{id}}">
                    <!-- Question content -->
                    <span style="font-weight: bold;">{{{questioncontent}}}</span>
                    <!-- Checkmark for checkbox -->
                    <span class="checkmark"></span>
                </label><br>
            {{/isdate}}
        {{/datequestions}}

        <!-- Form for submitting datequestions -->
        <form id="questionform" method="post" action="index.php">
            <!-- Hidden input for course ID -->
            <input type="hidden" name="courseid" id="courseid" value="{{courseid}}">
            <!-- Hidden input for survey ID -->
            <input type="hidden" name="sproid" id="sproid" value="{{sproid}}">
            <!-- Hidden input for selected fields -->
            <input type="hidden" name="selectedfields" id="selectedfieldsinput" value="">
            <!-- Hidden input for selected data -->
            <input type="hidden" name="selecteddata" id="selecteddatainput" value="">
            <input type="hidden" name="createrow" id="createrow" value="{{createrow}}">
            <input type="hidden" name="updaterow" id="updaterow" value="{{updaterow}}">

            <!-- Button to submit the form with validation -->
            <input type="button" value="{{buttonsubmit}}" onclick="validatedataandsubmit(event)">
        </form>
    </div>


    <!-- Empty space for styling -->
    <div id="emptyspace"></div>

    <!-- Error popup for displaying validation errors -->
    <div id="error-popup">
        <p>
            <!-- Exclamation triangle icon for errors -->
            <i class="fas fa-exclamation-triangle"></i>
            <!-- Error message -->
            <span>{{errorquestion}}</span>
        </p>
        </div>

    <div id="error-data-popup">
        <p>
            <!-- Icona per la data (sostituisci con l'icona desiderata) -->
            <i class="fas fa-calendar"></i>
            <!-- Messaggio di errore -->
            <span>{{errordata}}</span>
        </p>
    </div>

    <!-- Script for form validation -->
    <script src='script/form.js'></script>
    <script src='script/utility.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
</body>

</html>